define(["jquery","core/templates","core/modal_factory","core/modal_events","core/fragment"],function(t,e,o,r,n){t("a.qbitsenrlusr").on("click",function(e){var a=t(e.currentTarget);let i=a.data("context-id"),s=a.data("site-id"),l=n.loadFragment("local_qubitscourse","enrol_users_form",i,{siteId:s});o.create({type:o.types.SAVE_CANCEL,title:"Enrol Users",body:l,large:!0}).then(function(t){t.getRoot().on(r.save,function(e){a.data("context-id"),e.preventDefault(),t.getRoot().find("form").submit()}),t.getRoot().on("submit","form",e=>{e.preventDefault();let o=t.getRoot().find("form"),r=o.serialize();console.log(r)}),t.getRoot().on(r.hidden,()=>{t.destroy()}),t.show()})})});